<nz-layout class="layout">
  <nz-sider nzCollapsible nzWidth="200px">
    <div class="logo"><img style="width: 60px;" src="/assets/logo.png" alt="logo" /></div>
    <ul nz-menu nzTheme="dark" nzMode="inline">
      <li nz-menu-item routerLink="" 
      *ngIf="
              userService.user?.role == 'admin' ||
              userService.user?.role == 'manager'
            ">
        <span nz-icon nzType="home" nzTheme="outline"></span>
        <span>Home</span>
      </li>
      <li
        nz-submenu
        nzIcon="shop"
        nzTitle="Quản lý thiết bị"
        nzOpen
        *ngIf="userService.user?.role == 'manager'"
      >
        <ul>
          <li nz-menu-item routerLink="/thiet-bi-y-te">Thông tin thiết bị</li>
          <li nz-menu-item routerLink="/loai-thiet-bi">Loại trang thiết bị</li>
          <li nz-menu-item routerLink="/danh-sach-thiet-bi">
            Danh sách thiết bị
          </li>
        </ul>
      </li>
      <li nz-submenu nzIcon="shop" nzTitle="Quản lý phiếu" nzOpen *ngIf="userService.user?.role != 'admin'">
        <ul>
          <li
            nz-menu-item
            routerLink="/phieu-ban-giao"
            *ngIf="userService.user?.role == 'manager'"
          >
            Phiếu bàn giao
          </li>
          <li
            nz-menu-item
            routerLink="/phieu-thu-hoi"
            *ngIf="userService.user?.role == 'manager'"
          >
            Phiếu thu hồi
          </li>
          <li
            nz-menu-item
            routerLink="/phieu-bao-duong"
            *ngIf="userService.user?.role == 'manager'"
          >
            Phiếu bảo dưỡng
          </li>
          <li
            nz-menu-item
            routerLink="/phieu-sua-chua"
            *ngIf="
              userService.user?.role == 'user' ||
              userService.user?.role == 'manager'
            "
          >
            Phiếu sửa chữa
          </li>
          <li
            nz-menu-item
            routerLink="/phieu-nhap"
            *ngIf="userService.user?.role == 'manager'"
          >
            Phiếu nhập
          </li>
          <li
            nz-menu-item
            routerLink="/phieu-xuat"
            *ngIf="userService.user?.role == 'manager'"
          >
            Phiếu xuất
          </li>
        </ul>
      </li>
      <li
        nz-submenu
        nzIcon="file"
        nzTitle="Báo cáo"
        nzOpen
        *ngIf="userService.user?.role == 'manager'"
      >
        <ul>
          <li nz-menu-item routerLink="/bao-cao-nhap">Báo cáo nhập</li>
          <li nz-menu-item routerLink="/bao-cao-xuat">Báo cáo xuất</li>
          <li nz-menu-item routerLink="/bao-cao-bao-duong">
            Báo cáo bảo dưỡng
          </li>
          <li nz-menu-item routerLink="/bao-cao-sua-chua">Báo cáo sửa chữa</li>
          <!-- <li nz-menu-item routerLink="/lich-su-ban-giao">Lịch sử bàn giao</li> -->
        </ul>
      </li>
      <li
        nz-submenu
        nzIcon="shop"
        nzTitle="Quản lý thiết bị"
        nzOpen
        *ngIf="userService.user?.role == 'user'"
      >
        <ul>
          <li nz-menu-item routerLink="/lich-su-ban-giao">
            Danh sách thiết bị
          </li>
        </ul>
      </li>
      <li
        nz-submenu
        nzIcon="setting"
        nzTitle="Quản trị viên"
        nzOpen
        *ngIf="userService.user?.role == 'admin'"
      >
        <ul>
          <li nz-menu-item routerLink="/phong-ban">Phòng Ban</li>
          <li nz-menu-item routerLink="/nhan-su">Nhân viên</li>
        </ul>
      </li>
    </ul>
  </nz-sider>
  <nz-layout>
    <nz-header>
      <div class="dropdown" style="text-align: right; padding-right: 30px">
        <app-nav-notification></app-nav-notification>
        <button
          class="btn btn-secondary dropdown-toggle"
          type="button"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          Tài khoản
        </button>
        <ul class="dropdown-menu">
          <li>
            <a
              class="dropdown-item"
              href="javascript:void(0)"
              data-toggle="modal"
              data-target="#exampleModal"
              >Thông tin tài khoản</a
            >
          </li>
          <li>
            <a
              class="dropdown-item"
              href="javascript:void(0)"
              (click)="logOut()"
              >Log out</a
            >
          </li>
        </ul>
      </div>
      <!-- Modal -->
      <div
        class="modal fade"
        id="exampleModal"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">
                Thông tin nhân viên
              </h5>
              <button
                type="button"
                class="btn-close"
                data-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <dl class="row">
                <dt class="col-sm-3">Mã</dt>
                <dd class="col-sm-9">{{ userService.user?.ma }}</dd>
                <dt class="col-sm-3">Tên</dt>
                <dd class="col-sm-9">{{ userService.user?.ten }}</dd>
                <dt class="col-sm-3">Email</dt>
                <dd class="col-sm-9">{{ userService.user?.email }}</dd>
                <dt class="col-sm-3">Số điện thoại</dt>
                <dd class="col-sm-9">{{ userService.user?.sdt }}</dd>
              </dl>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-dismiss="modal"
              >
                Đóng
              </button>
            </div>
          </div>
        </div>
      </div>
    </nz-header>
    <nz-content>
      <router-outlet></router-outlet>
    </nz-content>
    <nz-footer
      >Copyright © 2023. All Rights Reserved</nz-footer
    >
  </nz-layout>
</nz-layout>
